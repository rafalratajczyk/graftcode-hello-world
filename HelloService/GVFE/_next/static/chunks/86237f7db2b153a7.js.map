{"version":3,"sources":["turbopack:///[project]/src/vision/src/core/components/Card/Card.module.scss [app-client] (css module)","turbopack:///[project]/src/vision/src/core/components/Card/CardWithParams.tsx","turbopack:///[project]/src/vision/src/core/components/Card/Card.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"accordion\": \"Card-module-scss-module__khtEFW__accordion\",\n  \"breadcrumbs\": \"Card-module-scss-module__khtEFW__breadcrumbs\",\n  \"card\": \"Card-module-scss-module__khtEFW__card\",\n  \"exampleContent\": \"Card-module-scss-module__khtEFW__exampleContent\",\n  \"exampleTitle\": \"Card-module-scss-module__khtEFW__exampleTitle\" + \" \" + \"Card-module-scss-module__khtEFW__title\",\n  \"header\": \"Card-module-scss-module__khtEFW__header\",\n  \"icon\": \"Card-module-scss-module__khtEFW__icon\",\n  \"loading\": \"Card-module-scss-module__khtEFW__loading\",\n  \"noInstallation\": \"Card-module-scss-module__khtEFW__noInstallation\",\n  \"noResults\": \"Card-module-scss-module__khtEFW__noResults\",\n  \"parameter\": \"Card-module-scss-module__khtEFW__parameter\",\n  \"parametersContent\": \"Card-module-scss-module__khtEFW__parametersContent\" + \" \" + \"Card-module-scss-module__khtEFW__content\",\n  \"parametersTitle\": \"Card-module-scss-module__khtEFW__parametersTitle\" + \" \" + \"Card-module-scss-module__khtEFW__title\",\n  \"returnsContent\": \"Card-module-scss-module__khtEFW__returnsContent\" + \" \" + \"Card-module-scss-module__khtEFW__content\",\n  \"returnsTitle\": \"Card-module-scss-module__khtEFW__returnsTitle\" + \" \" + \"Card-module-scss-module__khtEFW__title\",\n  \"space\": \"Card-module-scss-module__khtEFW__space\",\n  \"valueName\": \"Card-module-scss-module__khtEFW__valueName\",\n  \"valueType\": \"Card-module-scss-module__khtEFW__valueType\",\n});\n","'use client'\n\nimport { memo, useEffect } from 'react'\n\nimport { initUrlSync } from '@/core/stores/navigationStore'\n\nimport { Card } from './Card'\n\nfunction CardWithParamsComponent() {\n  // Initialize URL synchronization on mount\n  useEffect(() => {\n    initUrlSync()\n  }, [])\n\n  return <Card />\n}\n\nexport const CardWithParams = memo(CardWithParamsComponent)\n","'use client'\n\nimport { memo, useCallback, useEffect, useRef } from 'react'\n\nimport { Accordion, Breadcrumbs, InstallationCard, SelectionCard } from '@graftcode/design-system'\n\nimport { useCardNavigation, useInstallationConfig, useLibraries, useScrollToMethod } from '@/core/hooks'\nimport { useCodeStore } from '@/core/stores/codeStore'\nimport { useNavigationPath, useNavigationStore, useOpenAccordions } from '@/core/stores/navigationStore'\n\nimport styles from './Card.module.scss'\n\nfunction CardComponent() {\n  const path = useNavigationPath()\n  const openAccordions = useOpenAccordions()\n  const previousPathStringRef = useRef<string>('')\n\n  const {\n    selectedTechnology,\n    suggestedTechnologies,\n    technologies,\n    technologySetupCommands,\n    technologyConfigurations,\n    technologyImports,\n    technologyLibraryImports,\n    technologyEndpointPrefixes,\n    setSelectedTechnology,\n  } = useCodeStore()\n\n  const { gateway, gatewayPath, libraries, guid, registry, projectName, gsmuEndpoint, isSecured, isLoading, isError } =\n    useLibraries()\n\n  const handleAccordionToggle = useCallback((itemId: string) => {\n    // Use requestAnimationFrame to ensure state update happens after Accordion's internal state\n    requestAnimationFrame(() => {\n      const store = useNavigationStore.getState()\n      const currentOpenAccordions = store.openAccordions\n      const isOpen = currentOpenAccordions.includes(itemId)\n\n      // Only toggle if state actually needs to change\n      // This prevents conflicts when Accordion calls onCollapseChange multiple times\n      if (isOpen) {\n        store.closeAccordion(itemId)\n      } else {\n        store.openAccordion(itemId)\n      }\n    })\n  }, [])\n\n  const { list, details, breadcrumbs, libraryData, classData } = useCardNavigation({\n    path,\n    libraries,\n    gateway,\n    projectName,\n    openAccordions,\n    onAccordionToggle: handleAccordionToggle,\n  })\n\n  const { setupCommandMap, configurationMap, importCode } = useInstallationConfig({\n    selectedTechnology,\n    libraryData,\n    classData,\n    gatewayPath,\n    guid,\n    projectName: registry,\n    gsmuEndpoint,\n    isSecured,\n    technologySetupCommands,\n    technologyConfigurations,\n    technologyImports,\n    technologyLibraryImports,\n    technologyEndpointPrefixes,\n  })\n\n  // Auto-open first accordion when entering class level (path.length === 2)\n  // Only when entering a NEW class, not when user manually closes accordions\n  useEffect(() => {\n    const isAtClassLevel = path.length === 2\n    const hasDetails = details.length > 0\n    const hasNoOpenAccordions = openAccordions.length === 0\n    const currentPathString = path.join('/')\n    const pathChanged = previousPathStringRef.current !== currentPathString\n\n    // Only auto-open if:\n    // 1. We're at class level (not library, not method)\n    // 2. There are accordions available\n    // 3. No accordions are currently open\n    // 4. Path has changed (we entered a new class, not just closed accordions)\n    if (isAtClassLevel && hasDetails && hasNoOpenAccordions && pathChanged) {\n      const firstAccordionId = details[0]?.id\n      if (firstAccordionId) {\n        useNavigationStore.getState().openAccordion(firstAccordionId)\n      }\n    }\n\n    // Update previous path string\n    previousPathStringRef.current = currentPathString\n  }, [path, details, openAccordions])\n\n  // Scroll to method when accordion opens\n  useScrollToMethod()\n\n  const handleTechnologyChange = useCallback(\n    (technology: string) => {\n      setSelectedTechnology(technology)\n    },\n    [setSelectedTechnology]\n  )\n\n  const handleConnectionStringGenerator = useCallback(() => {\n    // TODO: Implement connection string generator\n  }, [])\n\n  const handleBreadcrumbClick = useCallback((href: string | undefined) => {\n    if (href) {\n      const hashPath = href.startsWith('#') ? href.slice(1) : href\n      const pathArray = hashPath ? hashPath.split('/') : []\n      useNavigationStore.getState().navigateTo(pathArray)\n    }\n  }, [])\n\n  if (isError || isLoading) {\n    return\n  }\n\n  return (\n    <div className={styles.card} suppressHydrationWarning>\n      <div className={styles.header}>\n        {libraryData ? (\n          <InstallationCard\n            configurationMap={configurationMap}\n            importCode={importCode}\n            selectedTechnology={selectedTechnology}\n            setupCommandMap={setupCommandMap}\n            suggestedTechnologies={suggestedTechnologies}\n            technologies={technologies}\n            onTechnologyChange={handleTechnologyChange}\n            onConnectionStringGenerator={handleConnectionStringGenerator}\n          />\n        ) : (\n          ''\n        )}\n        <Breadcrumbs\n          className={styles.breadcrumbs}\n          childType={({ children, href, ...props }: { children: React.ReactNode; href?: string }) => {\n            return (\n              <button\n                type=\"button\"\n                className={styles.breadcrumbButton}\n                {...props}\n                onClick={(e) => {\n                  e.preventDefault()\n                  e.stopPropagation()\n                  handleBreadcrumbClick(href)\n                }}\n              >\n                {children}\n              </button>\n            )\n          }}\n          items={breadcrumbs}\n          size=\"l\"\n        />\n      </div>\n      {list.map((card) => (\n        <SelectionCard key={card.id} {...card}>\n          {card.children}\n        </SelectionCard>\n      ))}\n      {details.map((accordion) => {\n        const isOpen = Boolean(openAccordions.includes(accordion.id))\n        const { id, titleSlot, content, onCollapseChange } = accordion\n        // Create anchor ID for native scrolling\n        const anchorId = `anchor-${encodeURIComponent(id)}`\n\n        return (\n          <div key={`${id}-${isOpen}`}>\n            {/* Anchor element for native scrolling */}\n\n            <Accordion\n              id={id}\n              className={styles.accordion}\n              titleSlot={titleSlot}\n              content={content}\n              isOpen={isOpen}\n              onCollapseChange={onCollapseChange}\n            />\n            <div\n              id={anchorId}\n              style={{\n                scrollMarginTop: '100px', // Offset for sticky header + floating navigation on desktop\n                scrollMarginBottom: '100px', // Offset for bottom\n              }}\n            />\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport const Card = memo(CardComponent)\n"],"names":[],"mappings":"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"}